<?xml version = "1.0" encoding = "UTF-8"?>
<beans xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xmlns="http://www.springframework.org/schema/beans" xsi:schemaLocation="http://www.springframework.org/schema/beans
   http://www.springframework.org/schema/beans/spring-beans-3.0.xsd">
  <bean class="org.apache.activemq.ActiveMQConnectionFactory" id="connectionFactory">
    <property name="brokerURL" value="tcp://localhost:61616" />
  </bean>

  <bean class="org.apache.activemq.command.ActiveMQQueue" id="destination">
    <constructor-arg value="TEST.FOO" />
  </bean>

  <bean class="org.springframework.jms.core.JmsTemplate" id="jmsTemplateBean">
    <property name="connectionFactory" ref="connectionFactory" />
    <property name="defaultDestinationName" value="destination" />
    <property name="defaultDestination" ref="destination" />
    <property name="receiveTimeout" value="1000" />
  </bean>

  <bean class="com.infamous.jms.receiver.Receiver" id="messageReceiver">
    <property name="jmsTemplate" ref="jmsTemplateBean" />
  </bean>

  <bean class="com.infamous.jms.sender.Sender" id="messageSender">
    <property name="jmsTemplate" ref="jmsTemplateBean" />
  </bean>

</beans>
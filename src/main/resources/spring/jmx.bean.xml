<?xml version = "1.0" encoding = "UTF-8"?>

<beans xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xmlns="http://www.springframework.org/schema/beans" xsi:schemaLocation="http://www.springframework.org/schema/beans
   http://www.springframework.org/schema/beans/spring-beans-3.0.xsd">
  <import resource="core.bean.xml" />

  <bean class="org.springframework.jmx.support.MBeanServerFactoryBean" id="mbeanServer">
    <property name="locateExistingServerIfPossible" value="true" />
  </bean>

  <bean class="org.springframework.jmx.export.MBeanExporter" id="exporter" lazy-init="false">
    <property name="server" ref="mbeanServer" />
    <property name="beans">
      <map>
        <entry key="com.infamous:name=musicManagerService" value-ref="musicManagerServiceBean" />
      </map>
    </property>
    <!--<property name="notificationListenerMappings">-->
      <!--<map>-->
        <!--<entry key="musicManagerServiceBean">-->
          <!--<bean class="com.infamous.notification.ConsoleJMXNotification" />-->
        <!--</entry>-->
      <!--</map>-->
    <!--</property>-->
  </bean>

</beans>